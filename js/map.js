class Map{
    constructor(image1, image2, image3){
        this.image1 = image1;
        this.image2 = image2;
        this.image3 = image3;
        this.map = [['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
                    ['1','0','0','0','2','0','2','0','0','0','0','0','2','0','0','2','#','0','0','1'],
                    ['1','0','0','0','0','0','0','0','0','%','0','0','0','0','0','0','0','0','2','1'],
                    ['1','0','#','2','0','3','0','0','2','0','0','0','0','2','0','0','0','2','0','1'],
                    ['1','2','0','0','0','3','0','0','0','0','0','0','0','0','0','0','0','0','0','1'],
                    ['1','3','3','3','0','3','0','0','0','0','0','0','0','0','0','2','0','0','0','1'],
                    ['1','2','0','0','0','0','0','0','0','0','0','2','0','0','0','0','0','0','0','1'],
                    ['1','&','0','0','0','0','2','0','0','0','0','0','0','0','2','0','0','2','2','1'],
                    ['1','0','0','0','0','0','0','0','0','0','0','0','0','0','@','0','2','0','0','1'],
                    ['1','0','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','0','1'],
                    ['1','0','0','#','0','0','0','0','0','0','0','0','0','0','3','3','3','3','3','1'],
                    ['1','2','0','0','0','0','0','0','0','0','0','0','2','0','3','0','2','%','0','1'],
                    ['1','0','0','0','0','0','0','0','0','2','0','0','0','0','0','0','0','0','2','1'],
                    ['1','3','3','3','3','3','3','0','0','0','0','0','3','3','3','3','0','0','0','1'],
                    ['1','0','0','0','0','2','3','0','0','0','0','0','3','0','0','0','0','2','0','1'],
                    ['1','0','2','0','0','0','0','0','0','0','2','0','3','0','0','0','0','0','2','1'],
                    ['1','0','0','0','0','0','0','0','#','0','0','0','3','0','2','0','0','0','0','1'],
                    ['1','2','0','0','0','2','3','0','0','0','0','0','0','0','0','0','0','0','#','1'],
                    ['1','@','0','0','0','0','3','&','2','0','0','2','0','0','0','0','2','0','0','1'],
                    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1']];
        
        this.tile_colliders = new Group()
        this.spawners = [];
        this.spawnerMinCooldown = 17
        this.spawnerMaxCooldown = 32

    }

    drawMap(){
        var Ypos = 0
        for(let y in this.map){
            var Xpos = 0
            for(let x in this.map[y]){
                if(this.map[y][x] == '1'){
                    var wall = createSprite(Xpos*32+16, Ypos*32+16, 32, 32);
                    wall.addImage(this.image1);
                    this.tile_colliders.add(wall);
                }
                if(this.map[y][x] == '2'){
                    var tree = createSprite(Xpos*32+16, Ypos*32+16, 32, 32);
                    tree.addImage(this.image2);
                    this.tile_colliders.add(tree);
                    
                }
                if(this.map[y][x] == '3'){
                    var fence = createSprite(Xpos*32+16, Ypos*32+16, 32, 32);
                    fence.addImage(this.image3);
                    this.tile_colliders.add(fence);
                    
                }
                if(this.map[y][x] == '#'){
                    var spawner = new Spawner(Xpos*32+16, Ypos*32+16);
                    this.spawners.push(spawner);
                }
                if(this.map[y][x] == '@'){
                    var spawner = new Spawner(Xpos*32+16, Ypos*32+16);
                    this.spawners.push(spawner);
                    spawner.levellock = 20;
                }
                if(this.map[y][x] == '%'){
                    var spawner = new Spawner(Xpos*32+16, Ypos*32+16);
                    this.spawners.push(spawner);
                    spawner.levellock = 50;
                }
                if(this.map[y][x] == '&'){
                    var spawner = new Spawner(Xpos*32+16, Ypos*32+16);
                    this.spawners.push(spawner);
                    spawner.levellock = 50;
                }
                Xpos +=1
            }
            Ypos += 1
        }
    }

}